(this["webpackJsonpchatbot-regione"]=this["webpackJsonpchatbot-regione"]||[]).push([[0],{1019:function(e,t){},1021:function(e,t){},1022:function(e,t){},1027:function(e,t){},1029:function(e,t){},1035:function(e,t){},1037:function(e,t){},1056:function(e,t){},1068:function(e,t){},1071:function(e,t){},141:function(e,t){},1721:function(e,t){},1765:function(e,t){},1786:function(e,t){},1788:function(e,t){},1793:function(e,t){},1794:function(e,t){},1795:function(e,t){},1796:function(e,t){},1797:function(e,t){},1801:function(e,t){},1905:function(e,t,n){},1907:function(e,t,n){},1908:function(e,t,n){},1909:function(e,t,n){},1910:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n(203),a=n.n(o),i=(n(812),n(2)),s=n.n(i),r=n(417),u=n(173),b=n(787),l=n.n(b),f=n(136),j=n.n(f),d=(n(1905),n(35)),m=function(e){var t=e.className,n=e.onFetchToken,o=e.store,a=e.token,i=Object(c.useMemo)((function(){return Object(f.createDirectLine)({token:a})}),[a]),s=Object(c.useMemo)((function(){return Object(f.createStyleSet)({backgroundColor:"White",bubbleBorderRadius:6,hideUploadButton:!0,bubbleBackground:"rgba(242, 241, 239, 0.2)",bubbleFromUserBackground:"rgba(242, 241, 239, 0.2)",suggestedActionBorderColor:"rgba(108, 122, 137, 1)"})}),[]);return Object(c.useEffect)((function(){n()}),[n]),a?Object(d.jsx)(j.a,{className:"".concat(t||""," web-chat"),directLine:i,store:o,styleSet:s}):Object(d.jsx)("div",{className:"".concat(t||""," connect-spinner"),children:Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("span",{className:"ms-Icon ms-Icon--Robot"})}),Object(d.jsx)("p",{children:"Mi sto connettendo al servizio..."})]})})},h=(n(1907),n(1908),function(){var e=Object(c.useMemo)((function(){return Object(f.createStore)({},(function(e){var t=e.dispatch;return function(e){return function(n){return"DIRECT_LINE/CONNECT_FULFILLED"===n.type?t({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/join",value:{language:window.navigator.language}}}):"DIRECT_LINE/INCOMING_ACTIVITY"===n.type&&"bot"===n.payload.activity.from.role&&x(!0),e(n)}}}))}),[]),t=Object(c.useMemo)((function(){return Object(f.createStyleSet)({backgroundColor:"White",bubbleBorderRadius:6,hideUploadButton:!0,bubbleBackground:"rgba(242, 241, 239, 0.2)",bubbleFromUserBackground:"rgba(242, 241, 239, 0.2)",suggestedActionBorderColor:"rgba(108, 122, 137, 1)"})}),[]),n=Object(c.useState)(!1),o=Object(u.a)(n,2),a=o[0],i=o[1],b=Object(c.useState)(!0),j=Object(u.a)(b,2),h=j[0],O=j[1],g=Object(c.useState)(!1),p=Object(u.a)(g,2),k=p[0],x=p[1],N=Object(c.useState)("right"),v=Object(u.a)(N,2),w=v[0],I=v[1],C=Object(c.useState)(),S=Object(u.a)(C,2),y=S[0],B=S[1];function E(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var F=Object(c.useCallback)(Object(r.a)(s.a.mark((function e(){var t,n,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=11;break}return"2kypFsUBW2E.GcjDaUeC0N36J25S_ZSwZVFPobucmA74Wm3_iXrItlw",t=E(),e.next=5,fetch("https://directline.botframework.com/v3/directline/tokens/generate",{body:JSON.stringify({user:{id:t,name:"User"}}),headers:{Authorization:"Bearer ".concat("2kypFsUBW2E.GcjDaUeC0N36J25S_ZSwZVFPobucmA74Wm3_iXrItlw"),"Content-type":"application/json"},method:"POST"});case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,o=c.token,B(o);case 11:case"end":return e.stop()}}),e)}))),[B,y]),M=Object(c.useCallback)(Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),O(!1),x(!1);case 3:case"end":return e.stop()}}),e)}))),[O,x]),T=Object(c.useCallback)((function(){O(!0),x(!1)}),[O,x]),U=Object(c.useCallback)((function(){I("left"===w?"right":"left")}),[I,w]);return Object(d.jsxs)("div",{className:"minimizable-web-chat",children:[h&&Object(d.jsxs)("button",{className:"maximize",onClick:M,children:[Object(d.jsx)("span",{className:y?"ms-Icon ms-Icon--MessageFill":"ms-Icon ms-Icon--Message"}),k&&Object(d.jsx)("span",{className:"ms-Icon ms-Icon--CircleShapeSolid red-dot"})]}),a&&Object(d.jsxs)("div",{className:l()("left"===w?"chat-box left":"chat-box right",h?"hide":""),children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{className:"filler"}),Object(d.jsx)("button",{className:"switch",onClick:U,children:Object(d.jsx)("span",{className:"ms-Icon ms-Icon--Switch"})}),Object(d.jsx)("button",{className:"minimize",onClick:T,children:Object(d.jsx)("span",{className:"ms-Icon ms-Icon--ChromeMinimize"})})]}),Object(d.jsx)(m,{className:"react-web-chat",onFetchToken:F,store:e,styleSet:t,token:y})]})]})}),O=n.p+"static/media/WebPage.ca49c60d.png",g=(n(1909),function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("img",{alt:"product background",src:O}),Object(d.jsx)(h,{})]})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(d.jsx)(g,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},208:function(e,t){},790:function(e,t){},792:function(e,t){},793:function(e,t){},794:function(e,t){},795:function(e,t){},796:function(e,t){},797:function(e,t){},798:function(e,t){},812:function(e,t,n){},973:function(e,t){},975:function(e,t){},989:function(e,t){},991:function(e,t){}},[[1910,1,2]]]);
//# sourceMappingURL=main.ce6b54fa.chunk.js.map